{"version":3,"sources":["ckeditor.js"],"names":["define","$","CKEditor","element","completer","option","this","initialize","extend","prototype","fn","textcomplete","ContentEditable","_bindEvents","$this","ckeditor_instance","on","event","domEvent","data","_onKeyup","dropdown","shown","_skipSearch","$el","id","proxy"],"mappings":";;;;;;;AAAAA,QACE,iBACA,iBACA,sBACA,SAAUC,GACV,aAMA,SAASC,EAAUC,EAASC,EAAWC,GACrCC,KAAKC,WAAWJ,EAASC,EAAWC,GAGtCJ,EAAEO,OAAON,EAASO,UAAWR,EAAES,GAAGC,aAAaC,gBAAgBH,WAC7DI,YAAa,WACX,IAAIC,EAAQR,KACZA,KAAKD,OAAOU,kBAAkBC,GAAG,MAAO,SAASC,GAC/C,IAAIC,EAAWD,EAAME,KAErB,GADAL,EAAMM,SAASF,GACXJ,EAAMV,UAAUiB,SAASC,OAASR,EAAMS,YAAYL,GACtD,OAAO,GAER,KAAM,KAAM,GAEfZ,KAAKkB,IAAIR,GAAG,SAAWV,KAAKmB,GAAIxB,EAAEyB,MAAMpB,KAAKc,SAAUd,UAI3DL,EAAES,GAAGC,aAAaT,SAAWA","file":"../ckeditor.js","sourcesContent":["define([\n  \"skylark-jquery\",\n  \"./textcomplete\",\n  \"./content_editable\"\n],function ($) {\n  'use strict';\n\n  // CKEditor adapter\n  // =======================\n  //\n  // Adapter for CKEditor, based on contenteditable elements.\n  function CKEditor (element, completer, option) {\n    this.initialize(element, completer, option);\n  }\n\n  $.extend(CKEditor.prototype, $.fn.textcomplete.ContentEditable.prototype, {\n    _bindEvents: function () {\n      var $this = this;\n      this.option.ckeditor_instance.on('key', function(event) {\n        var domEvent = event.data;\n        $this._onKeyup(domEvent);\n        if ($this.completer.dropdown.shown && $this._skipSearch(domEvent)) {\n          return false;\n        }\n      }, null, null, 1); // 1 = Priority = Important!\n      // we actually also need the native event, as the CKEditor one is happening to late\n      this.$el.on('keyup.' + this.id, $.proxy(this._onKeyup, this));\n    },\n});\n\n  $.fn.textcomplete.CKEditor = CKEditor;\n\n});\n"]}